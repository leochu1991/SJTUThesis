%# -*- coding: utf-8-unix -*-
%%==================================================
%% abstract.tex for SJTU Master Thesis
%%==================================================

\begin{abstract}
时钟同步问题来源于工业中分布式系统的发展和实时性任务的需求，核心问题是通过同步方法来实现各个子系统之间的时钟一致性，传统的GPS同步方法和NTP\footnote{网络时钟同步协议}等协议由于价格昂贵、同步精度差等原因满足不了工业需求，IEEE1588\footnote{精密时钟同步协议}协议是目前时钟同步领域最好的同步方法，不过其在实际使用中由于链路延时等因素影响难以达到亚微秒甚至纳秒同步精度，且从时钟稳定性没有保证。

本文从统计角度出发，对链路延时、时钟伺服系统及时钟频率漂移补偿进行深入研究，旨在提供一种系统性的统计方法来提高IEEE1588时钟同步系统精度及稳定性，主要工作如下：

(1) 通过对链路延时成分进行数学特性分析，拆解成固有抖动、暂时性时延突变和持久性时延变化，从统计角度提出“动态阈值法”、“基于固定时间窗的实时监控算法”等以提高同步精度；

(2) 在时钟伺服系统中，针对链路时延的阶跃突变干扰，提出基于多模型PID控制策略以优化从时钟的稳定性，减少从时钟的频繁抖动以保证整个系统的平稳运行；

(3) 对于时钟频率漂移问题，通过监测Sync报文样本是否发生链路堵塞等来进行报文过滤，只选取正常链路传输的Sync样本来进行校正，从而提高频率偏差计算的准确度；

(4) 为了使统计算法能够适用于透明时钟，文中通过对比边界时钟与透明时钟差异性来对统计算法进行调整，以使本文所提算法能够应用到透明时钟场合中；

(5) 通过stateflow时钟同步仿真系统，对于上文所提算法进行仿真分析。最终的仿真结果可看出上述算法不仅能够提高时钟同步系统对多种链路延时抖动的适应性，还能提高整个系统的同步精度和稳定性。

\keywords{\large 时钟同步 \quad 统计算法 \quad 频率补偿 \quad 时钟伺服系统 \quad  \quad stateflow}
\end{abstract}

\begin{englishabstract}

In the industrial field, with the continuous growth of computer communication technology, People started to apply more and more distributed system. As the physical scope of these systems are getting wider, and more real-time tasks, like data-collection and remote-control, appear, we have more strict requirement for the clock synchronization accuracy of the whole distributed nodes.

So, for meeting these clock synchronization requirements, serval clock-sync methods appear, such as the GPS synchronization technology、NTP and SNTP protocols. However, due to the complexity of industrial network、bad stability of industrial clock equipments, and the unpredictable message latency during transmitting process, We cannot acheieve ideal synchronization accuracy in reality, even worse the synchronization is only able to reach the normal millisecond level. Moreover, the GPS method is also not able to be applied widely in industrial field bacause of its high-cost and hidden danger of defense security.

With this background, IEEE1588 precise time-synchronization protocol appears for persuing higher clock synchronization accuracy. IEEE1588 protocol is proposed in year 2002 by Network Clock Synchronization Committee, with the support of IEEE Standards Committee, and then promoted as the second version in year 2008. Compared with other previous synchronization methods, IEEE1588 has many improvements, such as the ease of deployment、better defense security and synchronization accuracy. Based on these reasons, I choose IEEE1588 as my reaserach target in this paper.

However, In the industrial reality, we found there are still many problems in IEEE1588 protocol, and these problems lead directly to the unideal clock synchronization accuracy, which not only hamper the development of this protocol, but also make this clock synchronization requirement more strict and urgent. So in order to get the full ability of IEEE1588 in industrial field, I made deep reserach into this protocol, and by exploring deeply those factors which affect the synchronization accuracy, I decided to do more research from the math statistical perspective and finally proposed creatively a set of statistical methods for acheiving improvements, such as dynamic threshold method、real-time monitoring method based on fixed-window and so on. Taking time-letency as example, due to its randomness and unpredictability, We always have no ideal method to handle this. But in my paper, I will start from the statistical thought, and take the time latency data as samples and use several math methods to improve it. From the final simulink results, We can see these methods do improve the accuracy and stability clearly.What's more, In the fourth chapter, I explore the PID clock servo system based on Neural Network, trying to improve the robustness and adaptive for changing and complex industrial environment.

At the last of this paper, I will introduce our own clock synchronization simulink system which is based on stateflow on matlab, and I also did the algorithm validation by this simulink system. From the simulink result we can see those methods, proposed by myself, do improve the accuracy and stablity of clock synchronization system. What's more, I believe my reserach result , which is coming from the perspective of math statistic, will inspire many other scholars and reserachers and provide them some thoughts and scientific basis.

\englishkeywords{\large Clock Synchronization, IEEE1588, statistical method, frenquency compensation, stateflow}
\end{englishabstract}

